<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.tracom.mapper.AL0301.AL0301Mapper">
	<select id="AL0301G0R0" resultType="Map">
		SELECT A.ALLOC_ID, A.DAY_DIV, RG.DL_CD_NM AS ROUT_GRP_NM
		FROM BMS_ALLOC_OPER_MST A
		LEFT JOIN BMS_DL_CD_INFO RG ON A.ROUT_GRP = RG.DL_CD AND RG.CO_CD = 'ROUT_GRP'  
		ORDER BY RG.DL_CD_NM, A.DAY_DIV
	</select>

	<select id="AL0301C0R0" resultType="Map">
	SELECT A.ALLOC_ID, AOM.ROUT_GRP, A.ROUT_ID, RG.DL_CD_NM AS ROUT_GRP_NM, A.DAY_DIV, C.ROUT_NM, A.OPER_SN, A.ROUT_ST_TM
		, A.ROUT_ED_TM, C.WAY_DIV
	FROM BMS_ALLOC_OPER_MST AOM
		LEFT JOIN BMS_OPER_ALLOC_PL_ROUT_INFO A
			ON AOM.ALLOC_ID = A.ALLOC_ID 
		LEFT JOIN BMS_DL_CD_INFO RG 
			ON AOM.ROUT_GRP = RG.DL_CD AND RG.CO_CD = 'ROUT_GRP'
		LEFT JOIN BMS_ROUT_MST C
			ON A.ROUT_ID = C.ROUT_ID
	WHERE A.ALLOC_ID IS NOT NULL AND A.ROUT_GRP = #{ROUT_GRP} AND A.DAY_DIV = #{DAY_DIV}
	</select>
	
</mapper>